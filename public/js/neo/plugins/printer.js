Neo.Component({ctl:!0,tag:"neo-printer",tpl:'return function($CONTEXT$,$HELPER$,$EACH$,$SIZE$,$ESCAPE$,$ERROR$){var $TXT$=[],$JSX$=[],$INDEX$=0,$LINE$=0,$COL$=0;function $ADDTXT$($LINE$){if(!$TXT$[$INDEX$]){$TXT$[$INDEX$]=\'\'}$TXT$[$INDEX$]=($TXT$[$INDEX$]+$LINE$).replace(/\\n(:?\\s*\\n)+/g,\'\\n\')}function $ADDJSX$($LINE$){$JSX$[$INDEX$]=$LINE$,$INDEX$++}with($CONTEXT$||{}){try{$LINE$=1;$COL$=1;if($HELPER$["state"]["show"]){$LINE$=1;$COL$=21;$ADDTXT$("\\n<div ref=\\"loader\\" part=\\"loader\\">\\n<span></span>\\n<span></span>\\n<span></span>\\n<span></span>\\n</div>\\n");$LINE$=8;$COL$=1;}$LINE$=8;$COL$=12;$ADDTXT$("\\n<section ref=\\"page\\" part=\\"page\\">\\n<style> body { margin: 0; } #page { width: 100% } @page { size: ");$LINE$=10;$COL$=65;$ADDJSX$($HELPER$["props"]["size"]);$LINE$=10;$COL$=82;$ADDTXT$("; margin: ");$LINE$=10;$COL$=92;$ADDJSX$($HELPER$["props"]["margin"]);$LINE$=10;$COL$=111;$ADDTXT$("; }</style>\\n<slot ref=\\"printStyles\\" name=\\"styles\\" part=\\"styles\\"></slot>\\n<table id=\\"page\\">\\n<thead>\\n<tr>\\n<td>\\n<div id=\\"header\\">\\n<slot ref=\\"printHeader\\" name=\\"header\\" part=\\"header\\"></slot>\\n</div>\\n</td>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>\\n<main id=\\"main\\">\\n<slot ref=\\"printTop\\" name=\\"top\\" part=\\"top\\"></slot>\\n<slot ref=\\"printMain\\" part=\\"main\\"></slot>\\n<slot ref=\\"printBottom\\" name=\\"bottom\\" part=\\"bottom\\"></slot>\\n</main>\\n</td>\\n</tr>\\n</tbody>\\n<tfoot>\\n<tr>\\n<td>\\n<div id=\\"footer\\">\\n<slot ref=\\"printFooter\\" name=\\"footer\\" part=\\"footer\\"></slot>\\n</div>\\n</td>\\n</tr>\\n</tfoot>\\n</table>\\n</section>");}catch(e){throw new $ERROR$([e.message,\'\\n\\tat\',\'Line:\',\'"\'+$LINE$+\'"\',\'Col:\',\'"\'+$COL$+\'"\'].join(\' \'))}}return [$TXT$,...$JSX$]}',css:'return function($CONTEXT$,$HELPER$,$EACH$,$SIZE$,$ESCAPE$,$ERROR$){var $TXT$=[],$JSX$=[],$INDEX$=0,$LINE$=0,$COL$=0;function $ADDTXT$($LINE$){if(!$TXT$[$INDEX$]){$TXT$[$INDEX$]=\'\'}$TXT$[$INDEX$]=($TXT$[$INDEX$]+$LINE$).replace(/\\n(:?\\s*\\n)+/g,\'\\n\')}function $ADDJSX$($LINE$){$JSX$[$INDEX$]=$LINE$,$INDEX$++}with($CONTEXT$||{}){try{$LINE$=1;$COL$=1;$ADDTXT$("<style>* {\\nbox-sizing: border-box;\\nfont-family: inherit;\\ndisplay: none;\\n}\\n\\n");$LINE$=7;$COL$=1;$EACH$($HELPER$["Theme"]["MEDIA"],function(_,media,$LOOP$){$LINE$=7;$COL$=35;$ADDTXT$("\\n@");$LINE$=8;$COL$=2;$ADDJSX$(media);$LINE$=8;$COL$=13;$ADDTXT$("keyframes opacity-off {\\n0% { opacity: 1; }\\n100% { opacity: 0; }\\n}\\n\\n@");$LINE$=13;$COL$=2;$ADDJSX$(media);$LINE$=13;$COL$=13;$ADDTXT$("keyframes opacity-on {\\n0% { opacity: 0; }\\n100% { opacity: 1; }\\n}\\n\\n@");$LINE$=18;$COL$=2;$ADDJSX$(media);$LINE$=18;$COL$=13;$ADDTXT$("keyframes loading {\\n0% {\\n");$LINE$=20;$COL$=1;$EACH$($HELPER$["Theme"]["MEDIA"],function(_,_media,$LOOP$){$LINE$=20;$COL$=36;$ADDTXT$("\\n");$LINE$=21;$COL$=1;$ADDJSX$(_media);$LINE$=21;$COL$=13;$ADDTXT$("transform: rotate(0deg);\\n");$LINE$=22;$COL$=1;});$LINE$=22;$COL$=14;$ADDTXT$("\\n}\\n100% {\\n");$LINE$=25;$COL$=1;$EACH$($HELPER$["Theme"]["MEDIA"],function(_,_media,$LOOP$){$LINE$=25;$COL$=36;$ADDTXT$("\\n");$LINE$=26;$COL$=1;$ADDJSX$(_media);$LINE$=26;$COL$=13;$ADDTXT$("transform: rotate(360deg);\\n");$LINE$=27;$COL$=1;});$LINE$=27;$COL$=14;$ADDTXT$("\\n}\\n}\\n");$LINE$=30;$COL$=1;});$LINE$=30;$COL$=14;$ADDTXT$("\\n\\n:host {\\ninset: 0;\\nwidth: 100%;\\ndisplay: flex;\\nheight: 100dvh;\\nposition: fixed;\\nalign-items: center;\\njustify-content: center;\\nbackdrop-filter: blur(5px);\\n");$LINE$=41;$COL$=1;if(!$HELPER$["props"]["expand"]){$LINE$=41;$COL$=24;$ADDTXT$("\\npointer-events: none;\\n");$LINE$=43;$COL$=1;}$LINE$=43;$COL$=12;$ADDTXT$("\\nz-index: ");$LINE$=44;$COL$=10;$ADDJSX$($HELPER$["Theme"]["layer"]());$LINE$=44;$COL$=30;$ADDTXT$(";\\nbackground: ");$LINE$=45;$COL$=13;$ADDJSX$($HELPER$["Theme"]["colors"]("BLACK", 60));$LINE$=45;$COL$=45;$ADDTXT$(";\\n");$LINE$=46;$COL$=1;if($HELPER$["state"]["init"]){$LINE$=46;$COL$=21;$ADDTXT$("\\nopacity: 0;\\n");$LINE$=48;$COL$=1;}else{$LINE$=48;$COL$=11;$ADDTXT$("\\n");$LINE$=49;$COL$=1;$EACH$($HELPER$["Theme"]["MEDIA"],function(_,_media,$LOOP$){$LINE$=49;$COL$=36;$ADDTXT$("\\n");$LINE$=50;$COL$=1;$ADDJSX$(_media);$LINE$=50;$COL$=13;$ADDTXT$("animation: opacity-");$LINE$=50;$COL$=32;$ADDJSX$($HELPER$["state"]["show"] ? "on" : "off");$LINE$=50;$COL$=64;$ADDTXT$(" 200ms ease-in-out forwards;\\n");$LINE$=51;$COL$=1;});$LINE$=51;$COL$=14;$ADDTXT$("\\n");$LINE$=52;$COL$=1;}$LINE$=52;$COL$=12;$ADDTXT$("\\n}\\n\\n");$LINE$=55;$COL$=1;if($HELPER$["state"]["show"]){$LINE$=55;$COL$=21;$ADDTXT$("\\n[part=\\"loader\\"] {\\nwidth: 40px;\\nheight: 40px;\\ndisplay: block;\\nmargin: 2rem auto;\\nposition: relative;\\ncolor: ");$LINE$=62;$COL$=8;$ADDJSX$($HELPER$["Theme"]["colors"]("PRIME"));$LINE$=62;$COL$=36;$ADDTXT$(";\\n}\\n\\n[part=\\"loader\\"] span {\\nwidth: 100%;\\nheight: 100%;\\ndisplay: block;\\nborder-radius: 50%;\\nposition: absolute;\\nbox-sizing: border-box;\\nborder: 5px solid currentColor;\\nborder-color: currentColor transparent transparent transparent;\\n");$LINE$=74;$COL$=1;$EACH$($HELPER$["Theme"]["MEDIA"],function(_,_media,$LOOP$){$LINE$=74;$COL$=36;$ADDTXT$("\\n");$LINE$=75;$COL$=1;$ADDJSX$(_media);$LINE$=75;$COL$=13;$ADDTXT$("animation: loading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\\n");$LINE$=76;$COL$=1;});$LINE$=76;$COL$=14;$ADDTXT$("\\n}\\n\\n[part=\\"loader\\"] span:nth-child(1) {\\nanimation-delay: -0.45s;\\n}\\n\\n[part=\\"loader\\"] span:nth-child(2) {\\nanimation-delay: -0.3s;\\n}\\n\\n[part=\\"loader\\"] span:nth-child(3) {\\nanimation-delay: -0.15s;\\n}\\n");$LINE$=90;$COL$=1;}$LINE$=90;$COL$=12;$ADDTXT$("\\n\\n[part=\\"page\\"] {\\ndisplay: none;\\n}</style>");}catch(e){throw new $ERROR$([e.message,\'\\n\\tat\',\'Line:\',\'"\'+$LINE$+\'"\',\'Col:\',\'"\'+$COL$+\'"\'].join(\' \'))}}return [$TXT$,...$JSX$]}'})({attrs:["margin","size"],dense:{globals:[]},props:{margin:"5mm 5mm 5mm 5mm",size:"A4"},state:{show:!1,init:!0},rules:{print(){var $=this.rules.createPage(),n=this.rules.createFrame();this.rules.insertStyles($),this.rules.insertContent($),this.rules.writeContent(n,$),this.rules.execOnLoad(n)},createPage(){this.setState({show:!0,init:!1}),Neo.Wrapper&&Neo.Wrapper.rules.closed();var $=(new DOMParser).parseFromString(this.refs.page.innerHTML,"text/html");return $.documentElement.dir="ar"===document.documentElement.lang?"rtl":"ltr",$.documentElement.lang=document.documentElement.lang,$},createFrame(){var $=document.createElement("iframe");return $.style.display="none",document.body.appendChild($),$},insertStyles(e){var $=[e.querySelector("style"),...this.refs.printStyles.assignedNodes()];this.constructor.globals.forEach($=>{var n=document.createElement("link");n.rel="stylesheet",n.href=$,e.head.appendChild(n.cloneNode(!0))}),$.forEach($=>{$ instanceof HTMLElement&&e.head.appendChild($.cloneNode(!0))})},insertContent(t){[{id:"top",ref:this.refs.printTop},{id:"main",ref:this.refs.printMain},{id:"header",ref:this.refs.printHeader},{id:"bottom",ref:this.refs.printBottom},{id:"footer",ref:this.refs.printFooter}].forEach($=>{const n=t.querySelector(`[part=${$.id}]`),e=$.ref.assignedNodes();e.forEach($=>{$ instanceof HTMLElement&&n.insertAdjacentElement("beforebegin",$.cloneNode(!0))}),n.remove()})},writeContent($,n){$=$.contentDocument||$.contentWindow.document;$.open(),$.write(n.documentElement.outerHTML),$.close()},execOnLoad($){$.onload=()=>{$.contentWindow.print(),this.state.show=!1,Neo.Wrapper&&Neo.Wrapper.rules.opened(),setTimeout(()=>{$.remove(),this.emit("close")},1e3)}}},cycle:{mounted(){this.print=this.rules.print},updated($,n,e,t){Neo.Helper.option({attrs:{"size,margin":()=>{this.props[$]=e}},props:{"size,margin":()=>{this.emit("change:"+$,{data:e})}}}[t],$)}}}).define();